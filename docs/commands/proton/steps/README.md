# Пошаговый план реализации модели протона

## Обзор

Данный каталог содержит пошаговый план реализации модели протона на основе концепции "три тора" в SU(2)/SU(3) рамках согласно техническому заданию.

## Структура плана

План разделен на этапы в порядке зависимости - от независимых базовых компонентов к сложным интегрированным системам.

## Этапы реализации

### Этап 1: Математические основы
- **step_01_mathematical_foundations.md** - Базовые математические структуры и константы

### Этап 2: Геометрические структуры  
- **step_02_torus_geometries.md** - Три тороидальные конфигурации (120°, клевер, декартовая)

### Этап 3: SU(2) поля
- **step_03_su2_fields.md** - Реализация SU(2) полей и операций

### Этап 4: Плотности энергии
- **step_04_energy_densities.md** - Расчет плотности энергии с членами c₂, c₄, c₆

### Этап 5: Физические величины
- **step_05_physical_quantities.md** - Барионное число, электрический заряд, радиус

### Этап 6: Численные методы
- **step_06_numerical_methods.md** - Градиентный спуск и релаксация

### Этап 7: Валидация
- **step_07_validation.md** - Проверка физических параметров

### Этап 8: Интеграция
- **step_08_integration.md** - Объединение всех компонентов в единую модель

### Этап 9: Тестирование
- **step_09_testing.md** - Тестирование и отладка

### Этап 10: Оптимизация
- **step_10_optimization.md** - CUDA оптимизация и масштабирование

## Принципы реализации

1. **Декларативный код** - каждый шаг содержит полное описание интерфейсов
2. **Самодостаточность** - каждый файл содержит все необходимые объяснения
3. **Пошаговая зависимость** - каждый шаг строится на предыдущих
4. **Физическая корректность** - соответствие экспериментальным данным
5. **Численная стабильность** - надежные алгоритмы и проверки

## Интеграция фазовых координат

**Фазовые координаты** используются как **редуцированный поисковый слой**:
- **Инициализация**: Быстрый поиск оптимальных фазовых углов для направления поля n̂(x)
- **Отбраковка топологий**: Предварительная оценка стабильности конфигураций
- **Оптимизация**: Упрощенная оптимизация перед тяжелой 3D-релаксацией
- **Интеграция**: Результаты фазовой оптимизации используются как начальные условия для полной 3D модели

## Использование

1. Изучите план в порядке нумерации
2. Обсудите каждый шаг перед реализацией
3. Реализуйте декларативный код
4. Переходите к следующему шагу только после завершения текущего

## Связь с ТЗ

Каждый шаг соответствует конкретным требованиям из `docs/tech_spec.md` и обеспечивает реализацию всех необходимых компонентов модели протона.

## Дополнительные разделы ТЗ

### Точные формулы
- **exact_formulas.md** - Полный функционал энергии, вариационные уравнения, электромагнитные токи, форм-факторы и магнитный момент

### Единицы и калибровка
- **units_calibration.md** - Система единиц, конверсионные факторы, процедура калибровки по физическим параметрам
- **phase_coordinates.md** - Фазовые координаты как редуцированная система для анализа топологий

### Критерии приемки
- **dod_criteria.md** - Definition of Done для каждого этапа с допусками и порогами валидации

### Параметры модели
- **parameters_table.md** - Единая таблица всех входных параметров: геометрия, профили, коэффициенты, веса ограничений

## Самодостаточное ТЗ

Данные разделы дополняют основной план и обеспечивают полное техническое задание для реализации модели протона:

1. **Математическая строгость** - все формулы выписаны явно без пропусков
2. **Физическая корректность** - единицы и калибровка согласованы
3. **Четкие критерии** - Definition of Done для каждого этапа
4. **Полные параметры** - все входные данные систематизированы

Это обеспечивает самодостаточность ТЗ на уровне формул и приемки, исключая неоднозначности в реализации.
