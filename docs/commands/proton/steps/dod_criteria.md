# Definition of Done (DoD) - Критерии приемки

**Author:** Vasiliy Zdanovskiy  
**Email:** vasilyvz@gmail.com

## 1. Общие принципы

### 1.1 Определение готовности

**Definition of Done (DoD)** - это четкие критерии, которые должны быть выполнены для того, чтобы этап считался завершенным и готовым к переходу к следующему этапу.

### 1.2 Категории критериев

1. **Функциональные требования** - основная функциональность
2. **Физические требования** - соответствие физическим законам
3. **Численные требования** - точность и стабильность
4. **Технические требования** - качество кода и документации
5. **Валидационные требования** - проверка результатов

## 2. DoD для этапа 1: Математические основы

### 2.1 Функциональные требования

- [ ] Реализованы все физические константы
- [ ] Реализованы матрицы Паули
- [ ] Реализованы тензорные операции
- [ ] Реализована система координат
- [ ] Реализованы численные утилиты

### 2.2 Физические требования

- [ ] Константы соответствуют экспериментальным значениям
- [ ] Матрицы Паули удовлетворяют алгебре SU(2)
- [ ] Тензорные операции корректны

### 2.3 Численные требования

- [ ] Все операции выполняются с точностью 1e-10
- [ ] Нет переполнений или потери точности
- [ ] Градиенты вычисляются корректно

### 2.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 2.5 Валидационные требования

- [ ] Все тесты проходят
- [ ] Результаты воспроизводимы
- [ ] Нет предупреждений компилятора

## 3. DoD для этапа 2: Тороидальные геометрии

### 3.1 Функциональные требования

- [ ] Реализованы все три конфигурации (120°, клевер, декартовая)
- [ ] Реализован менеджер геометрий
- [ ] Реализована валидация конфигураций

### 3.2 Физические требования

- [ ] 120° конфигурация имеет симметрию C₃
- [ ] Клевер конфигурация имеет симметрию C₄
- [ ] Декартовая конфигурация имеет симметрию D₄
- [ ] Направления полей нормализованы

### 3.3 Численные требования

- [ ] Расстояния до торов вычисляются точно
- [ ] Весовые функции корректны
- [ ] Нормализация выполняется правильно

### 3.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 3.5 Валидационные требования

- [ ] Все конфигурации валидны
- [ ] Симметрии проверены
- [ ] Результаты воспроизводимы

## 4. DoD для этапа 3: SU(2) поля

### 4.1 Функциональные требования

- [ ] Реализовано SU(2) поле U(x)
- [ ] Реализованы левые токи Lᵢ
- [ ] Реализованы коммутаторы [Lᵢ, Lⱼ]
- [ ] Реализована валидация SU(2)

### 4.2 Физические требования

- [ ] Поле U(x) ∈ SU(2) (унитарность и det=1)
- [ ] Граничные условия: f(0)=π, f(∞)=0
- [ ] Поле непрерывно и дифференцируемо

### 4.3 Численные требования

- [ ] Унитарность проверяется с точностью 1e-10
- [ ] Детерминант = 1 с точностью 1e-10
- [ ] Производные вычисляются корректно

### 4.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 4.5 Валидационные требования

- [ ] Все поля валидны
- [ ] Граничные условия соблюдены
- [ ] Результаты воспроизводимы

## 5. DoD для этапа 4: Плотности энергии

### 5.1 Функциональные требования

- [ ] Реализованы все три члена энергии (c₂, c₄, c₆)
- [ ] Реализовано интегрирование по объему
- [ ] Реализован анализ энергетического баланса

### 5.2 Физические требования

- [ ] Энергия положительна
- [ ] Баланс E₂:E₄ = 50:50 ± 1%
- [ ] Энергия конечна
- [ ] Сходимость по сетке: отклонение инвариантов при утроении узлов ≤ 1%

### 5.3 Численные требования

- [ ] Интегрирование точное (ошибка < 1e-6)
- [ ] Энергетический баланс в пределах допуска
- [ ] Нет численных артефактов

### 5.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 5.5 Валидационные требования

- [ ] Энергетический баланс корректен
- [ ] Результаты воспроизводимы
- [ ] Сравнение с аналитическими решениями

## 6. DoD для этапа 5: Физические величины

### 6.1 Функциональные требования

- [ ] Реализован расчет барионного числа B
- [ ] Реализован расчет электрического заряда Q
- [ ] Реализован расчет радиуса rE
- [ ] Реализован расчет магнитного момента μp

### 6.2 Физические требования

- [ ] **Барионное число:** |B - 1| ≤ 0.02
- [ ] **Электрический заряд:** |Q - 1| ≤ 0.005
- [ ] **Радиус:** |rE - 0.841|/0.841 ≤ 3%
- [ ] **Масса:** |M - 938.272|/938.272 ≤ 2%
- [ ] **Магнитный момент:** |μp - 2.793|/2.793 ≤ 5%

### 6.3 Численные требования

- [ ] Интегрирование точное (ошибка < 1e-6)
- [ ] Все величины вычисляются корректно
- [ ] Нет численных артефактов

### 6.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 6.5 Валидационные требования

- [ ] Все физические величины в пределах допуска
- [ ] Результаты воспроизводимы
- [ ] Сравнение с экспериментальными данными

## 7. DoD для этапа 6: Численные методы

### 7.1 Функциональные требования

- [ ] Реализован градиентный спуск
- [ ] Реализована проекция на SU(2)
- [ ] Реализован контроль ограничений
- [ ] Реализована релаксация

### 7.2 Физические требования

- [ ] Сохранение барионного числа B = 1
- [ ] Сохранение электрического заряда Q = +1
- [ ] Соблюдение виреального условия
- [ ] Стабильность решения

### 7.3 Численные требования

- [ ] Сходимость за разумное время (< 1000 итераций)
- [ ] Стабильность численной схемы
- [ ] Контроль ошибок интегрирования

### 7.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 7.5 Валидационные требования

- [ ] Сходимость к правильному решению
- [ ] Сохранение всех ограничений
- [ ] Результаты воспроизводимы

## 8. DoD для этапа 7: Валидация

### 8.1 Функциональные требования

- [ ] Реализована проверка всех физических параметров
- [ ] Реализовано сравнение с экспериментальными данными
- [ ] Реализован анализ отклонений
- [ ] Реализована оценка качества модели

### 8.2 Физические требования

- [ ] **Масса:** |Mp - 938.272| ≤ 0.006 МэВ
- [ ] **Радиус:** |rE - 0.841| ≤ 0.019 фм
- [ ] **Магнитный момент:** |μp - 2.793| ≤ 0.001 μN
- [ ] **Виреал:** |E₂ - (E₄ + 3E₆)| / E_tot ≤ 1%  (при c₆=0 эквивалентно E₂:E₄ = 50:50 ± 1%)

### 8.3 Численные требования

- [ ] Все отклонения в пределах допуска
- [ ] Статистическая значимость результатов
- [ ] Корректность анализа ошибок

### 8.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 8.5 Валидационные требования

- [ ] Все критерии выполнены
- [ ] Результаты воспроизводимы
- [ ] Качество модели оценено

## 9. DoD для этапа 8: Интеграция

### 9.1 Функциональные требования

- [ ] Все компоненты интегрированы
- [ ] Реализован единый интерфейс
- [ ] Реализована конфигурация системы
- [ ] Реализовано управление параметрами

### 9.2 Физические требования

- [ ] Все физические требования соблюдены
- [ ] Система работает как единое целое
- [ ] Нет конфликтов между компонентами

### 9.3 Численные требования

- [ ] Интеграция не ухудшает точность
- [ ] Производительность приемлема
- [ ] Стабильность системы

### 9.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 9.5 Валидационные требования

- [ ] Все тесты проходят
- [ ] Система работает стабильно
- [ ] Результаты воспроизводимы

## 10. DoD для этапа 9: Тестирование

### 10.1 Функциональные требования

- [ ] Реализованы unit-тесты
- [ ] Реализованы интеграционные тесты
- [ ] Реализованы performance-тесты
- [ ] Реализованы stress-тесты

### 10.2 Физические требования

- [ ] Все физические требования проверены
- [ ] Граничные случаи обработаны
- [ ] Ошибки обрабатываются корректно

### 10.3 Численные требования

- [ ] Точность в пределах требований
- [ ] Стабильность при различных параметрах
- [ ] Производительность приемлема

### 10.4 Технические требования

- [ ] Покрытие тестами ≥ 95%
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 10.5 Валидационные требования

- [ ] Все тесты проходят
- [ ] Результаты воспроизводимы
- [ ] Система готова к продакшену

## 11. DoD для этапа 10: Оптимизация

### 11.1 Функциональные требования

- [ ] Реализована CUDA оптимизация
- [ ] Реализовано масштабирование
- [ ] Реализована оптимизация памяти
- [ ] Реализована оптимизация вычислений

### 11.2 Физические требования

- [ ] Оптимизация не нарушает физику
- [ ] Точность сохранена
- [ ] Результаты корректны

### 11.3 Численные требования

- [ ] Производительность улучшена в ≥2 раза
- [ ] Точность сохранена
- [ ] Стабильность сохранена

### 11.4 Технические требования

- [ ] Код покрыт unit-тестами (≥90%)
- [ ] Документация полная
- [ ] Нет linting ошибок
- [ ] Производительность приемлема

### 11.5 Валидационные требования

- [ ] Все тесты проходят
- [ ] Производительность улучшена
- [ ] Результаты воспроизводимы

## 12. Общие критерии качества

### 12.1 Код

- [ ] Соответствует стандартам проекта
- [ ] Хорошо документирован
- [ ] Легко читается и понимается
- [ ] Легко тестируется

### 12.2 Тестирование

- [ ] Покрытие тестами ≥ 90%
- [ ] Все тесты проходят
- [ ] Тесты быстрые и надежные
- [ ] Тесты покрывают граничные случаи

### 12.3 Документация

- [ ] API документирован
- [ ] Примеры использования
- [ ] Техническая документация
- [ ] Руководство пользователя

### 12.4 Производительность

- [ ] Время выполнения приемлемо
- [ ] Использование памяти оптимально
- [ ] Масштабируемость обеспечена
- [ ] CUDA оптимизация (если применимо)

## 13. Критерии отклонения

### 13.1 Автоматическое отклонение

- [ ] Любой unit-тест не проходит
- [ ] Linting ошибки
- [ ] Покрытие тестами < 90%
- [ ] Физические параметры вне допуска

### 13.2 Ручное отклонение

- [ ] Плохое качество кода
- [ ] Недостаточная документация
- [ ] Плохая производительность
- [ ] Нарушение архитектуры

## 14. Процесс приемки

### 14.1 Автоматические проверки

1. Запуск всех тестов
2. Проверка linting
3. Проверка покрытия тестами
4. Проверка производительности

### 14.2 Ручные проверки

1. Code review
2. Проверка документации
3. Проверка архитектуры
4. Проверка соответствия требованиям

### 14.3 Критерии принятия

- [ ] Все автоматические проверки пройдены
- [ ] Code review одобрен
- [ ] Документация проверена
- [ ] Архитектура соответствует требованиям
